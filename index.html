<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
	<link rel="stylesheet" href="book-style.css">
    <link rel="icon" type="image/png" href="pictures/favicong.png">
    <title>By The Book</title>
  </head>
  <body style="margin: 0; padding: 0; background-color: #D4BD87;">
    
	<div class="header">
        <table border="0" width="100%" cellspacing="0">
          <tr bgcolor="#941C04" height="150">
            <td colspan="6" width="70%" style="border-radius: 15px 0 0 0;"><img src="pictures/logo.png" height="150px"></td>
            <td colspan="1" width="30%" style="text-align: center; vertical-align: middle; padding: 10px; border-radius: 0 15px 0 0"><div class="auth-buttons">
            <div style="display: flex; flex-direction: column; align-items: flex-end;"><details style="display: inline-block;">
                <summary style="background-color: white;
                color: white; padding: 10px 20px; border-radius: 10px; 
                cursor: pointer; margin-bottom: 10px; list-style: none; 
                font-family: Arial, sans-serif; font-weight: bold; width:auto;
                align: right;">
                <img src="pictures/gear.png" width="40px" height="40px">
                </summary>
                <div style="position: fixed; top: 100%;
                    right: 0; background-color: #f9f9f9; min-width: 160px; 
                    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2); 
                    z-index: 9999; border-radius: 5px; padding: 10px;
                    text-align: left; border: 1px solid #cccccc;">
        
                    <a href="settings.html" onclick="this.parentElement.parentElement.removeAttribute('open')" style="display: block; color: black;                   
			    	text-decoration: none; margin-bottom: 8px; padding: 5px;">Settings</a>
                    <hr>
                    <a href="about.html" onclick="this.parentElement.parentElement.removeAttribute('open')" style="display: block; color: black;                   
			     	text-decoration: none; margin-bottom: 8px; padding:5px;">Profile</a>
                    <hr>
					<a href="about.html" onclick="this.parentElement.parentElement.removeAttribute('open')" style="display: block; color: black;                   
			     	text-decoration: none; margin-bottom: 8px; padding:5px;">Upload A Book</a>
                    <hr>
                    <a href="contact.html" onclick="this.parentElement.parentElement.removeAttribute('open')" style="display: block; color: black;                 
			        text-decoration: none; padding: 5px;">Full Book List</a>
			        <hr>
				    <a href="contact.html" onclick="this.parentElement.parentElement.removeAttribute('open')" style="display: block; color: black;                 
			    	text-decoration: none; padding: 5px;">Log Out</a>
                </div>
            </details>  
            <button type="button" style="background-color: #2F89C2; color: white; border: 1px solid #ffffff; padding: 10px 20px; border-radius: 5px;                 
		    width: 120px; cursor: pointer; font-family: Arial; font-weight: bold; float: right;">       
            SIGN UP
            </button> 
            <button type="button" style="background-color: #ffffff; color: #2F89C2; border: 1px solid #2F89C2; padding: 10px 20px;                     
	    	border-radius: 5px; width: 120px; margin-top: 8px; cursor: pointer; font-family: Arial; font-weight: bold; float: right;">
            SIGN IN
            </button></div></td>
          </tr>
          <tr bgcolor="#5E0B00" height="50" style="text-align: center; font-weight: bold; color: white;">
          <td width="14%" style="border-radius: 0 0 0 10px;"><a style="color: white; text-decoration: none; cursor: pointer;">Fantasy</a></td>
          <td width="14%"><a style="color: white; text-decoration: none; cursor: pointer;">Science-Fiction</a></td>
          <td width="14%"><a style="color: white; text-decoration: none; cursor: pointer;">Kids</a></td>
          <td width="14%"><a style="color: white; text-decoration: none; cursor: pointer;">Adults</a></td>
          <td width="14%"><a style="color: white; text-decoration: none; cursor: pointer;">Teenagers</a></td>
          <td width="14%"><a style="color: white; text-decoration: none; cursor: pointer;">Thriller</a></td>
          <td width="14%" style="border-radius: 0 0 10px 0;"><a style="color: white; text-decoration: none; cursor: pointer;">Search üîç</a></td>
          </tr>
        </table>
	</div>

    <div class="main-container">
        <div class="daily-box">
            <div style="flex-shrink: 0;">
                <img id="rec-img" src="" alt="Book Cover" class="book-img" style="display: none;">
            </div>

            <div style="flex: 2;">
                <span class="badge">Daily Recommendation ‚Äî By Dr. Meow</span>
                <h2 id="rec-full" style="margin: 10px 0; color: #5E0B00; font-size: 28px;">Loading...</h2>
				<p id="rec-rating" style="font-size: 18px; margin-bottom: 5px;"></p>
                <p id="rec-author" style="color: #444; font-style: italic; margin-bottom: 20px; font-size: 18px;"></p>
                <p id="rec-description" style="color: #444; line-height: 1.7; font-size: 16px; margin-bottom: 25px;"></p>
            
                <button class="read-review-button" id="rec-link-btn">READ FULL REVIEW</button>
            </div>

            <div class="Dr-Meow-box">
			    <img src="pictures/Dr.meow/Dr.Meow.base.png" style="max-width: 180px; filter: drop-shadow(5px 5px 10px rgba(0,0,0,0.2));">
			    <div class="meow-speech">
				    <p><strong>Dr. Meow says:</strong><br>
                    "Unlock my secret library! Sign in and let my whiskers guide you to your next favorite story."</p>
			    </div>
			</div>
        </div>

        <div class="popular-new-box" id="popular-container">
		    <div style="width: 100%;"><span class="badge">Most Popular This Week</span></div>
		</div>

        <div class="popular-new-box" id="new-container">
		</div>
    </div>

    <div class="footer">
	    <div class="col-f" style="flex: 1 1 250px;">
            <strong>Quick Links</strong><br><br>
		    <a href="contact.html">Contact Us</a><br>
			<a href="about.html">About Us</a><br>
			<a href="#">Support the Site</a>
		</div>
		<div class="col-f" style="flex: 1 1 250px;">
		    <strong>Follow Dr. Meow</strong><br><br>
			<a href="#">Whatsapp</a> | <a href="#">Youtube</a><br>
			<a href="#">Facebook</a> | <a href="#">Instagram</a>
		</div>
		<div class="col-f" style="flex: 1 1 250px;">
		    <strong>Our Network</strong><br><br>
		    <a href="moovie.html">By The Moovie</a><br>
			<a href="game.html">By The Game</a>
		</div>
		
		<div style="text-align: center; width: 100%; margin-top: 40px; border-top: 1px solid #333; padding-top: 20px;">
		    <p style="font-size: 14px; color: #888;">&copy; 2025 Dotan Hillel. All rights reserved.</p>
            <p style="font-size: 11px; color: #555;"></p>
		</div>
	</div>
    
	<script src="books.js"></script>

    <script>
        console.log(myBooks); 
        showRandomBook(); 

    window.addEventListener('click', function(e) {
        const details = document.querySelector('details');
        if (details.open && !details.contains(e.target)) {
            details.removeAttribute('open'); 
        }
    });

    function showRandomBook() {
        const randomIndex = Math.floor(Math.random() * myBooks.length);
        const book = myBooks[randomIndex];

		document.getElementById('rec-full').innerText = book.series + ": " + book.title;
        document.getElementById('rec-author').innerText = "By: " + book.author;
        document.getElementById('rec-description').innerText = book.description;
        document.getElementById('rec-rating').innerText= "Rating: " + book.paws;
    
        const img = document.getElementById('rec-img');
        img.src = book.image;
        img.style.display = "block";

        document.getElementById('rec-link-btn').onclick = function() {
		window.location.href = "book.html?id=" + randomIndex; 
		};
    }

    document.addEventListener('DOMContentLoaded', showRandomBook);
	
	
	myBooks.forEach((book, index) => {
		const bookHTML = `
			<div class="book-item" style="text-align: center; margin: 10px;">
				<a href="book.html?id=${index}">
					<img src="${book.image}" class="book-img">
				</a>
				<h3 style="font-size: 15px; margin: 10px 0; max-width: 200px;">${book.series}: ${book.title}</h3>
				<a href="book.html?id=${index}" class="read-review-button" style="padding: 8px 15px; font-size: 12px; text-decoration: none;">VIEW BOOK</a>
			</div>
    `	;

		if (book.status === "popular") {
			document.getElementById('popular-container').innerHTML += bookHTML;
		} else if (book.status === "new") {
			document.getElementById('new-container').innerHTML += bookHTML;
		}
	});
    </script>
  </body>
</html>